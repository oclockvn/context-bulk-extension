{
    "version": "2.0.0",
    "inputs": [
        {
            "id": "nugetVersion",
            "description": "Enter the version (format: X.Y.Z, e.g., 8.0.21)",
            "type": "promptString",
            "password": false
        }
    ],
    "tasks": [
        {
            "label": "build",
            "command": "dotnet",
            "type": "process",
            "args": [
                "build",
                "${workspaceFolder}/ContextBulkExtension.Tests/ContextBulkExtension.Tests.csproj",
                "/property:GenerateFullPaths=true",
                "/consoleloggerparameters:NoSummary;ForceNoAlign"
            ],
            "problemMatcher": "$msCompile"
        },
        {
            "label": "publish",
            "command": "dotnet",
            "type": "process",
            "args": [
                "publish",
                "${workspaceFolder}/ContextBulkExtension.Tests/ContextBulkExtension.Tests.csproj",
                "/property:GenerateFullPaths=true",
                "/consoleloggerparameters:NoSummary;ForceNoAlign"
            ],
            "problemMatcher": "$msCompile"
        },
        {
            "label": "watch",
            "command": "dotnet",
            "type": "process",
            "args": [
                "watch",
                "run",
                "--project",
                "${workspaceFolder}/ContextBulkExtension.Tests/ContextBulkExtension.Tests.csproj"
            ],
            "problemMatcher": "$msCompile"
        },
        {
            "label": "test all",
            "detail": "Test all tests in the project",
            "type": "process",
            "command": "dotnet",
            "args": [
                "test",
                "${workspaceFolder}/ContextBulkExtension.Tests/ContextBulkExtension.Tests.csproj"
            ],
            "problemMatcher": "$msCompile"
        },
        {
            "label": "push current",
            "detail": "Push the current branch to the remote repository",
            "type": "shell",
            "command": "git push origin $(git branch --show-current)",
            "problemMatcher": []
        },
        {
            "label": "show base version",
            "detail": "Show the current BaseVersion from Directory.Build.props",
            "type": "shell",
            "command": "pwsh",
            "args": [
                "-Command",
                "$xml = [xml](Get-Content '${workspaceFolder}/NugetPackages/Directory.Build.props'); $baseVersion = $xml.Project.PropertyGroup.BaseVersion; Write-Host \"Current BaseVersion: $baseVersion\" -ForegroundColor Cyan"
            ],
            "problemMatcher": []
        },
        {
            "label": "publish nuget",
            "detail": "Run publish-nuget.ps1 with a new version",
            "type": "shell",
            "command": "pwsh",
            "args": [
                "-File",
                "${workspaceFolder}/scripts/publish-nuget.ps1",
                "-Version",
                "${input:nugetVersion}"
            ],
            "problemMatcher": []
        }
    ]
}